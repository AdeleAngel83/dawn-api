#!/usr/bin/env ruby
require 'bundler/setup'
Bundler.require
require 'commander/import'
require 'excon'

require_relative 'lib/dawn/cli/apps'
require_relative 'lib/dawn/cli/keys'

# :name is optional, otherwise uses the basename of this executable
program :name, 'Dawn'
program :version, '0.0.1Î±'
program :description, 'CLI client for Dawn'

#@api_key = "3zPFSV4EoixxGDsHMz8C" # VPS
@api_key = "TKHV5tEJ46tzx9azCzak" # VPS - IceDragon

@headers = {
  'Authorization' => "Token token=\"#{@api_key}\""
}

@api = Excon.new('http://api.anzejagodic.com:5000', headers: @headers)

# dawn keys
  # - :add / :push
# dawn run <command>
# dawn scale
# dawn restart

# dawn logs
# dawn logs --tail

# gem push dawn master

=begin
$ heroku ps
=== web: `bundle exec unicorn -p $PORT -c ./config/unicorn.rb`
web.1: up for 8h
web.2: up for 3m

=== worker: `bundle exec stalk worker.rb`
worker.1: up for 1m
=end